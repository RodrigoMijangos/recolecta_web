name: ğŸ› Bug / Fix / Refactor
description: Reportar bugs, proponer correcciones o refactorizaciones de cÃ³digo existente
title: "[BUG] "
labels: ["bug", "triage"]
body:
  - type: markdown
    attributes:
      value: |
        ## Gracias por contribuir a Recolecta Web ğŸ—‘ï¸
        
        Usa este template para reportar bugs, proponer fixes o refactorizaciones.

  - type: dropdown
    id: issue-type
    attributes:
      label: ğŸ·ï¸ Tipo de Issue
      description: Selecciona el tipo que mejor describe tu reporte
      options:
        - ğŸ› Bug - Algo no funciona correctamente
        - ğŸ”§ Fix - Propuesta de correcciÃ³n para un problema conocido
        - â™»ï¸ Refactor - Mejora del cÃ³digo sin cambiar funcionalidad
        - ğŸ¨ Code Quality - Mejora de calidad, legibilidad o mantenibilidad
      multiple: false
    validations:
      required: true

  - type: textarea
    id: description
    attributes:
      label: ğŸ“‹ DescripciÃ³n
      description: Describe claramente el bug, fix o refactor propuesto
      placeholder: |
        Ej. La aplicaciÃ³n falla al intentar guardar una ruta con mÃ¡s de 50 puntos de recolecciÃ³n.
    validations:
      required: true

  - type: textarea
    id: current-behavior
    attributes:
      label: ğŸ”´ Comportamiento Actual
      description: Â¿QuÃ© estÃ¡ pasando actualmente?
      placeholder: |
        Describe el comportamiento incorrecto o el cÃ³digo que necesita mejorarse:
        - Â¿QuÃ© hace el sistema ahora?
        - Â¿DÃ³nde ocurre el problema?
        - Â¿QuÃ© cÃ³digo estÃ¡ involucrado?
    validations:
      required: true

  - type: textarea
    id: expected-behavior
    attributes:
      label: ğŸŸ¢ Comportamiento Esperado
      description: Â¿QuÃ© deberÃ­a pasar?
      placeholder: |
        Describe cÃ³mo deberÃ­a funcionar correctamente:
        - Â¿QuÃ© deberÃ­a hacer el sistema?
        - Â¿CÃ³mo deberÃ­a estar estructurado el cÃ³digo?
    validations:
      required: true

  - type: textarea
    id: steps-to-reproduce
    attributes:
      label: ğŸ”„ Pasos para Reproducir (para bugs)
      description: Â¿CÃ³mo podemos reproducir el problema?
      placeholder: |
        1. Ir a '...'
        2. Click en '...'
        3. Ingresar datos '...'
        4. Observar el error
      value: |
        1. 
        2. 
        3. 
    validations:
      required: false

  - type: dropdown
    id: severity
    attributes:
      label: ğŸ”¥ Severidad (para bugs)
      description: Â¿QuÃ© tan grave es este bug?
      options:
        - ğŸ”´ CrÃ­tico - La aplicaciÃ³n no funciona / pÃ©rdida de datos
        - ğŸŸ¡ Alto - Funcionalidad importante afectada
        - ğŸŸ¢ Medio - Funcionalidad menor afectada
        - ğŸ”µ Bajo - Problema cosmÃ©tico o de UX menor
        - âšª N/A - No aplica (refactor o fix)
    validations:
      required: false

  - type: dropdown
    id: component
    attributes:
      label: ğŸ—ï¸ Componente Afectado
      description: Â¿QuÃ© parte del sistema estÃ¡ afectada?
      options:
        - ğŸ¨ Frontend - React/TypeScript
        - âš™ï¸ Backend - Go/Gin
        - ğŸ—„ï¸ Base de Datos
        - ğŸ³ Docker/Infraestructura
        - ğŸŒ Nginx/Web Server
        - ğŸ“± MÃºltiple
        - ğŸ” No estoy seguro
      multiple: false
    validations:
      required: true

  - type: textarea
    id: environment
    attributes:
      label: ğŸ–¥ï¸ Entorno (para bugs)
      description: InformaciÃ³n sobre el entorno donde ocurre el problema
      placeholder: |
        - SO: [ej. Windows 11, Ubuntu 22.04, macOS 13]
        - Navegador: [ej. Chrome 119, Firefox 120]
        - VersiÃ³n del proyecto: [ej. 0.1.0-alpha]
        - Docker version: [ej. 20.10.21]
        - Otros detalles relevantes
      value: |
        - SO: 
        - Navegador: 
        - VersiÃ³n: 
    validations:
      required: false

  - type: textarea
    id: error-logs
    attributes:
      label: ğŸ“œ Logs de Error
      description: Copia los logs relevantes, mensajes de error o stack traces
      placeholder: |
        Pega aquÃ­ los logs o mensajes de error completos
      render: shell
    validations:
      required: false

  - type: textarea
    id: proposed-solution
    attributes:
      label: ğŸ’¡ SoluciÃ³n Propuesta
      description: Si tienes una idea de cÃ³mo solucionar el problema, descrÃ­bela aquÃ­
      placeholder: |
        - Cambios sugeridos en el cÃ³digo
        - Enfoque de refactorizaciÃ³n
        - Referencias a mejores prÃ¡cticas
        - Ejemplos de implementaciÃ³n
    validations:
      required: false

  - type: textarea
    id: code-references
    attributes:
      label: ğŸ“ Referencias de CÃ³digo
      description: Archivos, funciones o lÃ­neas de cÃ³digo relacionadas
      placeholder: |
        - Archivo: `frontend/src/components/RouteManager.tsx` (lÃ­neas 45-67)
        - FunciÃ³n: `saveRoute()`
        - Componente: `<MapView />`
    validations:
      required: false

  - type: dropdown
    id: priority
    attributes:
      label: ğŸš¦ Prioridad
      description: Â¿QuÃ© tan urgente es resolver esto?
      options:
        - ğŸ”´ Alta - Afecta producciÃ³n o bloquea desarrollo
        - ğŸŸ¡ Media - Importante pero tiene workaround
        - ğŸŸ¢ Baja - Mejora deseable
    validations:
      required: true

  - type: textarea
    id: additional-context
    attributes:
      label: ğŸ“ Contexto Adicional
      description: Cualquier informaciÃ³n adicional relevante
      placeholder: |
        - Capturas de pantalla o videos
        - Enlaces a discusiones relacionadas
        - Contexto del negocio
        - Impacto en usuarios
    validations:
      required: false

  - type: checkboxes
    id: checklist
    attributes:
      label: âœ… Checklist
      description: Verifica que has proporcionado suficiente informaciÃ³n
      options:
        - label: He buscado en issues existentes y este no estÃ¡ duplicado
          required: true
        - label: He proporcionado suficiente contexto para entender el problema
          required: true
        - label: He incluido pasos para reproducir (si es un bug)
          required: false
